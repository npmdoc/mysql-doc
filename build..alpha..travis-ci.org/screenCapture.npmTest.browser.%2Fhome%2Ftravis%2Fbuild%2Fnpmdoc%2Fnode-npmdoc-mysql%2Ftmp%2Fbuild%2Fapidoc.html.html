<html><head></head><body><div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a href="https://github.com/mysqljs/mysql#readme">mysql (v2.13.0)</a>
</h1>
<h4>A node.js driver for mysql. It is written in JavaScript, does not require compiling, and is 100% MIT licensed.</h4>
<div class="apidocSectionDiv"><a href="#apidoc.tableOfContents" id="apidoc.tableOfContents"><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql">module mysql</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Connection">
            function <span class="apidocSignatureSpan">mysql.</span>Connection
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.createConnection">
            function <span class="apidocSignatureSpan">mysql.</span>createConnection
            <span class="apidocSignatureSpan">(config)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.createPool">
            function <span class="apidocSignatureSpan">mysql.</span>createPool
            <span class="apidocSignatureSpan">(config)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.createPoolCluster">
            function <span class="apidocSignatureSpan">mysql.</span>createPoolCluster
            <span class="apidocSignatureSpan">(config)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.createQuery">
            function <span class="apidocSignatureSpan">mysql.</span>createQuery
            <span class="apidocSignatureSpan">(sql, values, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.escape">
            function <span class="apidocSignatureSpan">mysql.</span>escape
            <span class="apidocSignatureSpan">(value, stringifyObjects, timeZone)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.escapeId">
            function <span class="apidocSignatureSpan">mysql.</span>escapeId
            <span class="apidocSignatureSpan">(value, forbidQualified)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.format">
            function <span class="apidocSignatureSpan">mysql.</span>format
            <span class="apidocSignatureSpan">(sql, values, stringifyObjects, timeZone)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mysql.</span>Connection.prototype</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.Connection">module mysql.Connection</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Connection.Connection">
            function <span class="apidocSignatureSpan">mysql.</span>Connection
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Connection.createQuery">
            function <span class="apidocSignatureSpan">mysql.Connection.</span>createQuery
            <span class="apidocSignatureSpan">(sql, values, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Connection.super_">
            function <span class="apidocSignatureSpan">mysql.Connection.</span>super_
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.Connection.prototype">module mysql.Connection.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Connection.prototype._handleConnectTimeout">
            function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>_handleConnectTimeout
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Connection.prototype._handleNetworkError">
            function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>_handleNetworkError
            <span class="apidocSignatureSpan">(err)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Connection.prototype._handleProtocolConnect">
            function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>_handleProtocolConnect
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Connection.prototype._handleProtocolDrain">
            function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>_handleProtocolDrain
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Connection.prototype._handleProtocolEnd">
            function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>_handleProtocolEnd
            <span class="apidocSignatureSpan">(err)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Connection.prototype._handleProtocolEnqueue">
            function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>_handleProtocolEnqueue
            <span class="apidocSignatureSpan">(sequence)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Connection.prototype._handleProtocolError">
            function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>_handleProtocolError
            <span class="apidocSignatureSpan">(err)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Connection.prototype._handleProtocolHandshake">
            function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>_handleProtocolHandshake
            <span class="apidocSignatureSpan">(packet)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Connection.prototype._implyConnect">
            function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>_implyConnect
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Connection.prototype._startTLS">
            function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>_startTLS
            <span class="apidocSignatureSpan">(onSecure)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Connection.prototype.beginTransaction">
            function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>beginTransaction
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Connection.prototype.changeUser">
            function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>changeUser
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Connection.prototype.commit">
            function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>commit
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Connection.prototype.connect">
            function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>connect
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Connection.prototype.destroy">
            function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>destroy
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Connection.prototype.end">
            function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>end
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Connection.prototype.escape">
            function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>escape
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Connection.prototype.escapeId">
            function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>escapeId
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Connection.prototype.format">
            function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>format
            <span class="apidocSignatureSpan">(sql, values)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Connection.prototype.pause">
            function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>pause
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Connection.prototype.ping">
            function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>ping
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Connection.prototype.query">
            function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>query
            <span class="apidocSignatureSpan">(sql, values, cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Connection.prototype.resume">
            function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>resume
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Connection.prototype.rollback">
            function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>rollback
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Connection.prototype.statistics">
            function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>statistics
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql" id="apidoc.module.mysql">module mysql</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.Connection" id="apidoc.element.mysql.Connection">
        function <span class="apidocSignatureSpan">mysql.</span>Connection
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Connection(options) {
  Events.EventEmitter.call(this);

  this.config = options.config;

  this._socket        = options.socket;
  this._protocol      = new Protocol({config: this.config, connection: this});
  this._connectCalled = false;
  this.state          = 'disconnected';
  this.threadId       = null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.createConnection" id="apidoc.element.mysql.createConnection">
        function <span class="apidocSignatureSpan">mysql.</span>createConnection
        <span class="apidocSignatureSpan">(config)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function createConnection(config) {
  var Connection       = loadClass('Connection');
  var ConnectionConfig = loadClass('ConnectionConfig');

  return new Connection({config: new ConnectionConfig(config)});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
This is a node.js driver for mysql. It is written in JavaScript, does not
require compiling, and is 100% MIT licensed.

Here is an example on how to use it:

```js
var mysql      = require('mysql');
var connection = mysql.<span class="apidocCodeKeywordSpan">createConnection</span>({
  host     : 'localhost',
  user     : 'me',
  password : 'secret',
  database : 'my_db'
});

connection.connect();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.createPool" id="apidoc.element.mysql.createPool">
        function <span class="apidocSignatureSpan">mysql.</span>createPool
        <span class="apidocSignatureSpan">(config)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function createPool(config) {
  var Pool       = loadClass('Pool');
  var PoolConfig = loadClass('PoolConfig');

  return new Pool({config: new PoolConfig(config)});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
```

Unlike `end()` the `destroy()` method does not take a callback argument.

## Pooling connections

Rather than creating and managing connections one-by-one, this module also
provides built-in connection pooling using `mysql.<span class="apidocCodeKeywordSpan">createPool</span>(config)`.
[Read more about connection pooling](https://en.wikipedia.org/wiki/Connection_pool).

Use pool directly.
```js
var mysql = require('mysql');
var pool  = mysql.createPool({
connectionLimit : 10,
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.createPoolCluster" id="apidoc.element.mysql.createPoolCluster">
        function <span class="apidocSignatureSpan">mysql.</span>createPoolCluster
        <span class="apidocSignatureSpan">(config)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function createPoolCluster(config) {
  var PoolCluster = loadClass('PoolCluster');

  return new PoolCluster(config);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

## PoolCluster

PoolCluster provides multiple hosts connection. (group &amp; retry &amp; selector)

```js
// create
var poolCluster = mysql.<span class="apidocCodeKeywordSpan">createPoolCluster</span>();

// add configurations (the config is a pool config object)
poolCluster.add(config); // add configuration with automatic name
poolCluster.add('MASTER', masterConfig); // add a named configuration
poolCluster.add('SLAVE1', slave1Config);
poolCluster.add('SLAVE2', slave2Config);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.createQuery" id="apidoc.element.mysql.createQuery">
        function <span class="apidocSignatureSpan">mysql.</span>createQuery
        <span class="apidocSignatureSpan">(sql, values, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function createQuery(sql, values, callback) {
  var Connection = loadClass('Connection');

  return Connection.createQuery(sql, values, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
* @param {function} [callback] The callback to use when query is complete
* @return {Query} New query object
* @public
*/
exports.createQuery = function createQuery(sql, values, callback) {
 var Connection = loadClass('Connection');

 return Connection.<span class="apidocCodeKeywordSpan">createQuery</span>(sql, values, callback);
};

/**
* Escape a value for SQL.
* @param {*} value The value to escape
* @param {boolean} [stringifyObjects=false] Setting if objects should be stringified
* @param {string} [timeZone=local] Setting for time zone to use for Date conversion
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.escape" id="apidoc.element.mysql.escape">
        function <span class="apidocSignatureSpan">mysql.</span>escape
        <span class="apidocSignatureSpan">(value, stringifyObjects, timeZone)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function escape(value, stringifyObjects, timeZone) {
  var SqlString = loadClass('SqlString');

  return SqlString.escape(value, stringifyObjects, timeZone);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
);
```

## Escaping query values

In order to avoid SQL Injection attacks, you should always escape any user
provided data before using it inside a SQL query. You can do so using the
`mysql.<span class="apidocCodeKeywordSpan">escape</span>()`, `connection.escape()` or `pool.escape()` methods:

```js
var userId = 'some user provided value';
var sql    = 'SELECT * FROM users WHERE id = ' + connection.escape(userId);
connection.query(sql, function (error, results, fields) {
if (error) throw error;
// ...
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.escapeId" id="apidoc.element.mysql.escapeId">
        function <span class="apidocSignatureSpan">mysql.</span>escapeId
        <span class="apidocSignatureSpan">(value, forbidQualified)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function escapeId(value, forbidQualified) {
  var SqlString = loadClass('SqlString');

  return SqlString.escapeId(value, forbidQualified);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

console.log(query); // SELECT * FROM posts WHERE title='Hello MySQL'
```

## Escaping query identifiers

If you can't trust an SQL identifier (database / table / column name) because it is
provided by a user, you should escape it with `mysql.<span class="apidocCodeKeywordSpan">escapeId</span>(identifier)`,
`connection.escapeId(identifier)` or `pool.escapeId(identifier)` like this:

```js
var sorter = 'date';
var sql    = 'SELECT * FROM posts ORDER BY ' + connection.escapeId(sorter);
connection.query(sql, function (error, results, fields) {
if (error) throw error;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.format" id="apidoc.element.mysql.format">
        function <span class="apidocSignatureSpan">mysql.</span>format
        <span class="apidocSignatureSpan">(sql, values, stringifyObjects, timeZone)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function format(sql, values, stringifyObjects, timeZone) {
  var SqlString = loadClass('SqlString');

  return SqlString.format(sql, values, stringifyObjects, timeZone);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
### Preparing Queries

You can use mysql.format to prepare a query with multiple insertion points, utilizing the proper escaping for ids and values. A
simple example of this follows:

```js
var sql = "SELECT * FROM ?? WHERE ?? = ?";
var inserts = ['users', 'id', userId];
sql = mysql.<span class="apidocCodeKeywordSpan">format</span>(sql, inserts);
```

Following this you then have a valid, escaped query that you can then send to the database safely. This is useful if you are looking
 to prepare the query before actually sending it to the database. As mysql.format is exposed from SqlString.format you also have
 the option (but are not required) to pass in stringifyObject and timezone, allowing you provide a custom means of turning objects
 into strings, as well as a location-specific/timezone-aware Date.

### Custom format

If you prefer to have another type of query escape format, there's a connection configuration option you can use to define
a custom format function. You can access the connection object if you want to use the built-in `.escape()` or any other connection
 function.
...</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.Connection" id="apidoc.module.mysql.Connection">module mysql.Connection</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.Connection.Connection" id="apidoc.element.mysql.Connection.Connection">
        function <span class="apidocSignatureSpan">mysql.</span>Connection
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Connection(options) {
  Events.EventEmitter.call(this);

  this.config = options.config;

  this._socket        = options.socket;
  this._protocol      = new Protocol({config: this.config, connection: this});
  this._connectCalled = false;
  this.state          = 'disconnected';
  this.threadId       = null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Connection.createQuery" id="apidoc.element.mysql.Connection.createQuery">
        function <span class="apidocSignatureSpan">mysql.Connection.</span>createQuery
        <span class="apidocSignatureSpan">(sql, values, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function createQuery(sql, values, callback) {
  if (sql instanceof Query) {
    return sql;
  }

  var cb      = bindToCurrentDomain(callback);
  var options = {};

  if (typeof sql === 'function') {
    cb = bindToCurrentDomain(sql);
    return new Query(options, cb);
  }

  if (typeof sql === 'object') {
    for (var prop in sql) {
      options[prop] = sql[prop];
    }

    if (typeof values === 'function') {
      cb = bindToCurrentDomain(values);
    } else if (values !== undefined) {
      options.values = values;
    }

    return new Query(options, cb);
  }

  options.sql    = sql;
  options.values = values;

  if (typeof values === 'function') {
    cb = bindToCurrentDomain(values);
    options.values = undefined;
  }

  if (cb === undefined &amp;&amp; callback !== undefined) {
    throw new TypeError('argument callback must be a function when provided');
  }

  return new Query(options, cb);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
* @param {function} [callback] The callback to use when query is complete
* @return {Query} New query object
* @public
*/
exports.createQuery = function createQuery(sql, values, callback) {
 var Connection = loadClass('Connection');

 return Connection.<span class="apidocCodeKeywordSpan">createQuery</span>(sql, values, callback);
};

/**
* Escape a value for SQL.
* @param {*} value The value to escape
* @param {boolean} [stringifyObjects=false] Setting if objects should be stringified
* @param {string} [timeZone=local] Setting for time zone to use for Date conversion
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Connection.super_" id="apidoc.element.mysql.Connection.super_">
        function <span class="apidocSignatureSpan">mysql.Connection.</span>super_
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function EventEmitter() {
  EventEmitter.init.call(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.Connection.prototype" id="apidoc.module.mysql.Connection.prototype">module mysql.Connection.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.Connection.prototype._handleConnectTimeout" id="apidoc.element.mysql.Connection.prototype._handleConnectTimeout">
        function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>_handleConnectTimeout
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_handleConnectTimeout = function () {
  if (this._socket) {
    this._socket.setTimeout(0);
    this._socket.destroy();
  }

  var err = new Error('connect ETIMEDOUT');
  err.errorno = 'ETIMEDOUT';
  err.code = 'ETIMEDOUT';
  err.syscall = 'connect';

  this._handleNetworkError(err);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Connection.prototype._handleNetworkError" id="apidoc.element.mysql.Connection.prototype._handleNetworkError">
        function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>_handleNetworkError
        <span class="apidocSignatureSpan">(err)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_handleNetworkError = function (err) {
  this._protocol.handleNetworkError(err);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  secureContext      : secureContext,
  isServer           : false
});

// error handler for secure socket
secureSocket.on('_tlsError', function(err) {
  if (secureEstablished) {
    connection.<span class="apidocCodeKeywordSpan">_handleNetworkError</span>(err);
  } else {
    onSecure(err);
  }
});

// cleartext &lt;-&gt; protocol
secureSocket.pipe(this._protocol);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Connection.prototype._handleProtocolConnect" id="apidoc.element.mysql.Connection.prototype._handleProtocolConnect">
        function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>_handleProtocolConnect
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_handleProtocolConnect = function () {
  this.state = 'connected';
  this.emit('connect');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Connection.prototype._handleProtocolDrain" id="apidoc.element.mysql.Connection.prototype._handleProtocolDrain">
        function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>_handleProtocolDrain
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_handleProtocolDrain = function () {
  this.emit('drain');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Connection.prototype._handleProtocolEnd" id="apidoc.element.mysql.Connection.prototype._handleProtocolEnd">
        function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>_handleProtocolEnd
        <span class="apidocSignatureSpan">(err)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_handleProtocolEnd = function (err) {
  this.state = 'disconnected';
  this.emit('end', err);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Connection.prototype._handleProtocolEnqueue" id="apidoc.element.mysql.Connection.prototype._handleProtocolEnqueue">
        function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>_handleProtocolEnqueue
        <span class="apidocSignatureSpan">(sequence)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function _handleProtocolEnqueue(sequence) {
  this.emit('enqueue', sequence);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Connection.prototype._handleProtocolError" id="apidoc.element.mysql.Connection.prototype._handleProtocolError">
        function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>_handleProtocolError
        <span class="apidocSignatureSpan">(err)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_handleProtocolError = function (err) {
  this.state = 'protocol_error';
  this.emit('error', err);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Connection.prototype._handleProtocolHandshake" id="apidoc.element.mysql.Connection.prototype._handleProtocolHandshake">
        function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>_handleProtocolHandshake
        <span class="apidocSignatureSpan">(packet)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function _handleProtocolHandshake(packet) {
  this.state    = 'authenticated';
  this.threadId = packet.threadId;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Connection.prototype._implyConnect" id="apidoc.element.mysql.Connection.prototype._implyConnect">
        function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>_implyConnect
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_implyConnect = function () {
  if (!this._connectCalled) {
    this.connect();
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Connection.prototype.changeUser = function changeUser(options, callback) {
if (!callback &amp;&amp; typeof options === 'function') {
  callback = options;
  options = {};
}

this.<span class="apidocCodeKeywordSpan">_implyConnect</span>();

var charsetNumber = (options.charset)
  ? ConnectionConfig.getCharsetNumber(options.charset)
  : this.config.charsetNumber;

return this._protocol.changeUser({
  user          : options.user || this.config.user,
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Connection.prototype._startTLS" id="apidoc.element.mysql.Connection.prototype._startTLS">
        function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>_startTLS
        <span class="apidocSignatureSpan">(onSecure)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function _startTLS(onSecure) {
  var connection    = this;
  var secureContext = tls.createSecureContext({
    ca         : this.config.ssl.ca,
    cert       : this.config.ssl.cert,
    ciphers    : this.config.ssl.ciphers,
    key        : this.config.ssl.key,
    passphrase : this.config.ssl.passphrase
  });

  // "unpipe"
  this._socket.removeAllListeners('data');
  this._protocol.removeAllListeners('data');

  // socket &lt;-&gt; encrypted
  var rejectUnauthorized = this.config.ssl.rejectUnauthorized;
  var secureEstablished  = false;
  var secureSocket       = new tls.TLSSocket(this._socket, {
    rejectUnauthorized : rejectUnauthorized,
    requestCert        : true,
    secureContext      : secureContext,
    isServer           : false
  });

  // error handler for secure socket
  secureSocket.on('_tlsError', function(err) {
    if (secureEstablished) {
      connection._handleNetworkError(err);
    } else {
      onSecure(err);
    }
  });

  // cleartext &lt;-&gt; protocol
  secureSocket.pipe(this._protocol);
  this._protocol.on('data', function(data) {
    secureSocket.write(data);
  });

  secureSocket.on('secure', function() {
    secureEstablished = true;

    onSecure(rejectUnauthorized ? this.ssl.verifyError() : null);
  });

  // start TLS communications
  secureSocket._start();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Connection.prototype.beginTransaction" id="apidoc.element.mysql.Connection.prototype.beginTransaction">
        function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>beginTransaction
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function beginTransaction(options, callback) {
  if (!callback &amp;&amp; typeof options === 'function') {
    callback = options;
    options = {};
  }

  options = options || {};
  options.sql = 'START TRANSACTION';
  options.values = null;

  return this.query(options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
```

## Transactions

Simple transaction support is available at the connection level:

```js
connection.<span class="apidocCodeKeywordSpan">beginTransaction</span>(function(err) {
if (err) { throw err; }
connection.query('INSERT INTO posts SET title=?', title, function (error, results, fields) {
  if (error) {
    return connection.rollback(function() {
      throw error;
    });
  }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Connection.prototype.changeUser" id="apidoc.element.mysql.Connection.prototype.changeUser">
        function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>changeUser
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function changeUser(options, callback) {
  if (!callback &amp;&amp; typeof options === 'function') {
    callback = options;
    options = {};
  }

  this._implyConnect();

  var charsetNumber = (options.charset)
    ? ConnectionConfig.getCharsetNumber(options.charset)
    : this.config.charsetNumber;

  return this._protocol.changeUser({
    user          : options.user || this.config.user,
    password      : options.password || this.config.password,
    database      : options.database || this.config.database,
    timeout       : options.timeout,
    charsetNumber : charsetNumber,
    currentConfig : this.config
  }, bindToCurrentDomain(callback));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

## Switching users and altering connection state

MySQL offers a changeUser command that allows you to alter the current user and
other aspects of the connection without shutting down the underlying socket:

```js
connection.<span class="apidocCodeKeywordSpan">changeUser</span>({user : 'john'}, function(err) {
  if (err) throw err;
});
```

The available options for this feature are:

* `user`: The name of the new user (defaults to the previous one).
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Connection.prototype.commit" id="apidoc.element.mysql.Connection.prototype.commit">
        function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>commit
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function commit(options, callback) {
  if (!callback &amp;&amp; typeof options === 'function') {
    callback = options;
    options = {};
  }

  options = options || {};
  options.sql = 'COMMIT';
  options.values = null;

  return this.query(options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

    connection.query('INSERT INTO log SET data=?', log, function (error, results, fields) {
if (error) {
  return connection.rollback(function() {
    throw error;
  });
}
connection.<span class="apidocCodeKeywordSpan">commit</span>(function(err) {
  if (err) {
    return connection.rollback(function() {
      throw err;
    });
  }
  console.log('success!');
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Connection.prototype.connect" id="apidoc.element.mysql.Connection.prototype.connect">
        function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>connect
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function connect(options, callback) {
  if (!callback &amp;&amp; typeof options === 'function') {
    callback = options;
    options = {};
  }

  if (!this._connectCalled) {
    this._connectCalled = true;

    // Connect either via a UNIX domain socket or a TCP socket.
    this._socket = (this.config.socketPath)
      ? Net.createConnection(this.config.socketPath)
      : Net.createConnection(this.config.port, this.config.host);

    // Connect socket to connection domain
    if (Events.usingDomains) {
      this._socket.domain = this.domain;
    }

    var connection = this;
    this._protocol.on('data', function(data) {
      connection._socket.write(data);
    });
    this._socket.on('data', function(data) {
      connection._protocol.write(data);
    });
    this._protocol.on('end', function() {
      connection._socket.end();
    });
    this._socket.on('end', function() {
      connection._protocol.end();
    });

    this._socket.on('error', this._handleNetworkError.bind(this));
    this._socket.on('connect', this._handleProtocolConnect.bind(this));
    this._protocol.on('handshake', this._handleProtocolHandshake.bind(this));
    this._protocol.on('unhandledError', this._handleProtocolError.bind(this));
    this._protocol.on('drain', this._handleProtocolDrain.bind(this));
    this._protocol.on('end', this._handleProtocolEnd.bind(this));
    this._protocol.on('enqueue', this._handleProtocolEnqueue.bind(this));

    if (this.config.connectTimeout) {
      var handleConnectTimeout = this._handleConnectTimeout.bind(this);

      this._socket.setTimeout(this.config.connectTimeout, handleConnectTimeout);
      this._socket.once('connect', function() {
        this.setTimeout(0, handleConnectTimeout);
      });
    }
  }

  this._protocol.handshake(options, bindToCurrentDomain(callback));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var connection = mysql.createConnection({
  host     : 'localhost',
  user     : 'me',
  password : 'secret',
  database : 'my_db'
});

connection.<span class="apidocCodeKeywordSpan">connect</span>();

connection.query('SELECT 1 + 1 AS solution', function (error, results, fields) {
  if (error) throw error;
  console.log('The solution is: ', results[0].solution);
});

connection.end();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Connection.prototype.destroy" id="apidoc.element.mysql.Connection.prototype.destroy">
        function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>destroy
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">destroy = function () {
  this.state = 'disconnected';
  this._implyConnect();
  this._socket.destroy();
  this._protocol.destroy();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

An alternative way to end the connection is to call the `destroy()` method.
This will cause an immediate termination of the underlying socket.
Additionally `destroy()` guarantees that no more events or callbacks will be
triggered for the connection.

```js
connection.<span class="apidocCodeKeywordSpan">destroy</span>();
```

Unlike `end()` the `destroy()` method does not take a callback argument.

## Pooling connections

Rather than creating and managing connections one-by-one, this module also
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Connection.prototype.end" id="apidoc.element.mysql.Connection.prototype.end">
        function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>end
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function end(options, callback) {
  var cb   = callback;
  var opts = options;

  if (!callback &amp;&amp; typeof options === 'function') {
    cb   = options;
    opts = null;
  }

  // create custom options reference
  opts = Object.create(opts || null);

  if (opts.timeout === undefined) {
    // default timeout of 30 seconds
    opts.timeout = 30000;
  }

  this._implyConnect();
  this._protocol.quit(opts, bindToCurrentDomain(cb));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
connection.connect();

connection.query('SELECT 1 + 1 AS solution', function (error, results, fields) {
if (error) throw error;
console.log('The solution is: ', results[0].solution);
});

connection.<span class="apidocCodeKeywordSpan">end</span>();
```

From this example, you can learn the following:

* Every method you invoke on a connection is queued and executed in sequence.
* Closing the connection is done using `end()` which makes sure all remaining
queries are executed before sending a quit packet to the mysql server.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Connection.prototype.escape" id="apidoc.element.mysql.Connection.prototype.escape">
        function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>escape
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">escape = function (value) {
  return SqlString.escape(value, false, this.config.timezone);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
);
```

## Escaping query values

In order to avoid SQL Injection attacks, you should always escape any user
provided data before using it inside a SQL query. You can do so using the
`mysql.<span class="apidocCodeKeywordSpan">escape</span>()`, `connection.escape()` or `pool.escape()` methods:

```js
var userId = 'some user provided value';
var sql    = 'SELECT * FROM users WHERE id = ' + connection.escape(userId);
connection.query(sql, function (error, results, fields) {
if (error) throw error;
// ...
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Connection.prototype.escapeId" id="apidoc.element.mysql.Connection.prototype.escapeId">
        function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>escapeId
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function escapeId(value) {
  return SqlString.escapeId(value, false);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

console.log(query); // SELECT * FROM posts WHERE title='Hello MySQL'
```

## Escaping query identifiers

If you can't trust an SQL identifier (database / table / column name) because it is
provided by a user, you should escape it with `mysql.<span class="apidocCodeKeywordSpan">escapeId</span>(identifier)`,
`connection.escapeId(identifier)` or `pool.escapeId(identifier)` like this:

```js
var sorter = 'date';
var sql    = 'SELECT * FROM posts ORDER BY ' + connection.escapeId(sorter);
connection.query(sql, function (error, results, fields) {
if (error) throw error;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Connection.prototype.format" id="apidoc.element.mysql.Connection.prototype.format">
        function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>format
        <span class="apidocSignatureSpan">(sql, values)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">format = function (sql, values) {
  if (typeof this.config.queryFormat === 'function') {
    return this.config.queryFormat.call(this, sql, values, this.config.timezone);
  }
  return SqlString.format(sql, values, this.config.stringifyObjects, this.config.timezone);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
### Preparing Queries

You can use mysql.format to prepare a query with multiple insertion points, utilizing the proper escaping for ids and values. A
simple example of this follows:

```js
var sql = "SELECT * FROM ?? WHERE ?? = ?";
var inserts = ['users', 'id', userId];
sql = mysql.<span class="apidocCodeKeywordSpan">format</span>(sql, inserts);
```

Following this you then have a valid, escaped query that you can then send to the database safely. This is useful if you are looking
 to prepare the query before actually sending it to the database. As mysql.format is exposed from SqlString.format you also have
 the option (but are not required) to pass in stringifyObject and timezone, allowing you provide a custom means of turning objects
 into strings, as well as a location-specific/timezone-aware Date.

### Custom format

If you prefer to have another type of query escape format, there's a connection configuration option you can use to define
a custom format function. You can access the connection object if you want to use the built-in `.escape()` or any other connection
 function.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Connection.prototype.pause" id="apidoc.element.mysql.Connection.prototype.pause">
        function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>pause
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">pause = function () {
  this._socket.pause();
  this._protocol.pause();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  // Handle error, an 'end' event will be emitted after this as well
})
.on('fields', function(fields) {
  // the field packets for the rows to follow
})
.on('result', function(row) {
  // Pausing the connnection is useful if your processing involves I/O
  connection.<span class="apidocCodeKeywordSpan">pause</span>();

  processRow(row, function() {
    connection.resume();
  });
})
.on('end', function() {
  // all rows have been received
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Connection.prototype.ping" id="apidoc.element.mysql.Connection.prototype.ping">
        function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>ping
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ping(options, callback) {
  if (!callback &amp;&amp; typeof options === 'function') {
    callback = options;
    options = {};
  }

  this._implyConnect();
  this._protocol.ping(options, bindToCurrentDomain(callback));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
## Ping

A ping packet can be sent over a connection using the `connection.ping` method. This
method will send a ping packet to the server and when the server responds, the callback
will fire. If an error occurred, the callback will fire with an error argument.

```js
connection.<span class="apidocCodeKeywordSpan">ping</span>(function (err) {
  if (err) throw err;
  console.log('Server responded to ping');
})
```

## Timeouts
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Connection.prototype.query" id="apidoc.element.mysql.Connection.prototype.query">
        function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>query
        <span class="apidocSignatureSpan">(sql, values, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function query(sql, values, cb) {
  var query = Connection.createQuery(sql, values, cb);
  query._connection = this;

  if (!(typeof sql === 'object' &amp;&amp; 'typeCast' in sql)) {
    query.typeCast = this.config.typeCast;
  }

  if (query.sql) {
    query.sql = this.format(query.sql, query.values);
  }

  this._implyConnect();

  return this._protocol._enqueue(query);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  user     : 'me',
  password : 'secret',
  database : 'my_db'
});

connection.connect();

connection.<span class="apidocCodeKeywordSpan">query</span>('SELECT 1 + 1 AS solution', function (error, results, fields
) {
  if (error) throw error;
  console.log('The solution is: ', results[0].solution);
});

connection.end();
```
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Connection.prototype.resume" id="apidoc.element.mysql.Connection.prototype.resume">
        function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>resume
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">resume = function () {
  this._socket.resume();
  this._protocol.resume();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    // the field packets for the rows to follow
  })
  .on('result', function(row) {
    // Pausing the connnection is useful if your processing involves I/O
    connection.pause();

    processRow(row, function() {
      connection.<span class="apidocCodeKeywordSpan">resume</span>();
    });
  })
  .on('end', function() {
    // all rows have been received
  });
```
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Connection.prototype.rollback" id="apidoc.element.mysql.Connection.prototype.rollback">
        function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>rollback
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function rollback(options, callback) {
  if (!callback &amp;&amp; typeof options === 'function') {
    callback = options;
    options = {};
  }

  options = options || {};
  options.sql = 'ROLLBACK';
  options.values = null;

  return this.query(options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
Simple transaction support is available at the connection level:

```js
connection.beginTransaction(function(err) {
  if (err) { throw err; }
  connection.query('INSERT INTO posts SET title=?', title, function (error, results, fields) {
if (error) {
  return connection.<span class="apidocCodeKeywordSpan">rollback</span>(function() {
    throw error;
  });
}

var log = 'Post ' + result.insertId + ' added';

connection.query('INSERT INTO log SET data=?', log, function (error, results, fields) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Connection.prototype.statistics" id="apidoc.element.mysql.Connection.prototype.statistics">
        function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>statistics
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function statistics(options, callback) {
  if (!callback &amp;&amp; typeof options === 'function') {
    callback = options;
    options = {};
  }

  this._implyConnect();
  this._protocol.stats(options, bindToCurrentDomain(callback));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
</body></html>